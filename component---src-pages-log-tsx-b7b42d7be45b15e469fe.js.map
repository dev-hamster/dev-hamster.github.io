{"version":3,"file":"component---src-pages-log-tsx-b7b42d7be45b15e469fe.js","mappings":"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","sources":["webpack://blog/./src/components/Header.tsx","webpack://blog/./src/components/Layout.tsx","webpack://blog/./src/components/LogCard.tsx","webpack://blog/./src/pages/log.tsx","webpack://blog/./src/utils/formatDate.ts"],"sourcesContent":["import { Link } from 'gatsby';\nimport { useLocation } from '@reach/router';\nimport * as React from 'react';\n\nexport const Header = () => {\n  const { pathname } = useLocation();\n\n  return (\n    <header className=\"bg-white flex h-[56px] items-center justify-between px-4 py-1 w-full max-w-[430px] mx-auto\">\n      <Link\n        to=\"/\"\n        className=\"font-bold text-2xl text-black font-ubuntu cursor-pointer no-underline\"\n      >\n        dev-hamster\n      </Link>\n      <nav className=\"flex gap-4 items-center text-base text-[#222] font-ubuntu\">\n        <Link\n          to=\"/\"\n          className={`cursor-pointer no-underline ${pathname === '/' ? 'text-[#222]' : 'text-[#838383]'}`}\n        >\n          Blog\n        </Link>\n        <Link\n          to=\"/log\"\n          className={`cursor-pointer no-underline ${pathname.startsWith('/log') ? 'text-[#222]' : 'text-[#838383]'}`}\n        >\n          Log\n        </Link>\n        <Link\n          to=\"/about\"\n          className={`cursor-pointer no-underline ${pathname.startsWith('/about') ? 'text-[#222]' : 'text-[#838383]'}`}\n        >\n          About\n        </Link>\n      </nav>\n    </header>\n  );\n};\n","import React from 'react';\nimport { Header } from './Header';\n\nconst PageLayout = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <main className=\"bg-white relative w-full\">\n      <Header />\n      <div className=\"relative w-full max-w-[430px] px-[17px] mx-auto bg-white\">\n        {children}\n      </div>\n    </main>\n  );\n};\n\nexport { PageLayout };\n","import React, { useState } from 'react';\nimport Markdown from 'react-markdown';\nimport rehypeRaw from 'rehype-raw';\nimport rehypeSanitize, { defaultSchema } from 'rehype-sanitize';\nimport { CardProps } from 'types/post';\nimport { formatDateToKorean } from '../utils';\n\nconst sanitizeSchema = {\n  ...defaultSchema,\n  tagNames: [...(defaultSchema.tagNames || []), 'span'],\n  attributes: {\n    ...(defaultSchema.attributes || {}),\n    span: [\n      ...((defaultSchema.attributes || {}).span || []),\n      'className',\n      'class',\n      'style',\n    ],\n  },\n};\n\n// 마크다운 커스텀 컴포넌트\nconst markdownComponents = {\n  // 리스트 스타일\n  ul: (props: any) => <ul {...props} style={{ listStyle: 'revert' }} />,\n  ol: (props: any) => (\n    <ol\n      {...props}\n      style={{ listStyleType: 'decimal', paddingLeft: '1.5rem' }}\n    />\n  ),\n  li: (props: any) => <li {...props} style={{ marginBottom: '0.25rem' }} />,\n};\n\nexport const LogCard = ({ title, body, date, tags }: CardProps) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const formattedDate = formatDateToKorean(date);\n\n  // body가 3줄 이상인지 확인하기 위한 간단한 체크\n  const bodyLines = body.split('\\n').filter((line) => line.trim().length > 0);\n  const shouldShowToggle = bodyLines.length > 3 || body.length > 200;\n\n  return (\n    <div className=\"bg-white border-b border-[#F2F2F2] border-solid overflow-hidden flex flex-col py-[33px]\">\n      {/* Date */}\n      {formattedDate && (\n        <div className=\"mb-2\">\n          <p className=\"text-[13px] text-gray-500 font-ubuntu font-normal\">\n            {formattedDate}\n          </p>\n        </div>\n      )}\n\n      {/* Content */}\n      <div className=\"relative\">\n        <div\n          className={`overflow-hidden ${\n            !isExpanded\n              ? 'line-clamp-3 [&>*]:line-clamp-none [&>p]:line-clamp-3'\n              : ''\n          }`}\n        >\n          <div className=\"markdown-body text-[15px] text-gray-900 font-ubuntu font-normal leading-relaxed\">\n            <Markdown\n              rehypePlugins={[rehypeRaw, [rehypeSanitize, sanitizeSchema]]}\n              components={markdownComponents}\n            >\n              {body}\n            </Markdown>\n          </div>\n        </div>\n        {shouldShowToggle && (\n          <button\n            onClick={() => setIsExpanded(!isExpanded)}\n            className=\"mt-2 w-full flex justify-end text-[14px] text-[#1DA1F2] font-ubuntu font-normal hover:underline cursor-pointer transition-colors duration-150\"\n          >\n            {isExpanded ? '접기' : '더보기'}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { graphql, Link, type HeadFC } from 'gatsby';\nimport * as React from 'react';\n\nimport { MdxNode } from 'types/post';\nimport { PageLayout } from 'components/Layout';\nimport { LogCard } from 'components/LogCard';\n\ntype LogPageProps = {\n  data: {\n    allMdx: {\n      nodes: MdxNode[];\n    };\n  };\n};\n\nconst LogPage = ({ data }: LogPageProps) => {\n  // TODO: 성능 최적화 - GraphQL 쿼리 레벨에서 필터링하도록 변경\n  // 현재는 모든 MDX 노드를 가져온 후 JavaScript에서 필터링하므로,\n  // MDX 파일이 많아질수록 불필요한 데이터를 전송하게 됨.\n  // GraphQL 스키마에 type 필드를 명시적으로 정의한 후 filter를 사용하면 더 효율적임.\n  const allLogs = data.allMdx.nodes.filter(\n    (node) => node.frontmatter.type === 'log'\n  );\n\n  return (\n    <PageLayout>\n      <div className=\"pb-4\">\n        {allLogs.length === 0 && (\n          <div className=\"h-[100px] flex flex-col items-center justify-center\">\n            <div className=\"text-2xl\">￿</div>\n            <div>아직 포스트가 없습니다.</div>\n          </div>\n        )}\n        {allLogs.length > 0 &&\n          allLogs.map((log) => (\n            <LogCard\n              key={log.id}\n              thumbnail={log.frontmatter.thumbnail}\n              title={log.frontmatter.title}\n              date={log.frontmatter.date}\n              tags={log.frontmatter.tags}\n              body={log.body}\n            />\n          ))}\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default LogPage;\n\nexport const Head: HeadFC = () => <title>Log - dev-hamster</title>;\n\nexport const query = graphql`\n  query {\n    allMdx(sort: { frontmatter: { date: DESC } }) {\n      nodes {\n        id\n        frontmatter {\n          title\n          slug\n          date(formatString: \"YYYY-MM-DD\")\n          tags\n          type\n          thumbnail {\n            childImageSharp {\n              gatsbyImageData(placeholder: BLURRED, layout: FULL_WIDTH)\n            }\n          }\n        }\n        body\n      }\n    }\n  }\n`;\n","/**\n * 날짜를 한국어 형식으로 포맷팅\n * 예: \"2025-01-16\" -> \"1월 16일\"\n */\nexport const formatDateToKorean = (dateString?: string | null): string => {\n  if (!dateString) return '';\n\n  try {\n    // \"2025-01-16\" 형식의 문자열을 파싱\n    // Date 생성자는 시간대 문제가 있을 수 있으므로 직접 파싱\n    const parts = dateString.split('-');\n    if (parts.length === 3) {\n      const year = parseInt(parts[0], 10);\n      const month = parseInt(parts[1], 10);\n      const day = parseInt(parts[2], 10);\n\n      if (!isNaN(year) && !isNaN(month) && !isNaN(day)) {\n        if (year === new Date().getFullYear()) {\n          return `${month}월 ${day}일`;\n        } else {\n          return `${year}년 ${month}월 ${day}일`;\n        }\n      }\n    }\n\n    // 파싱 실패 시 Date 객체 사용\n    const date = new Date(dateString);\n    if (!isNaN(date.getTime())) {\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      return `${month}월 ${day}일`;\n    }\n\n    return dateString;\n  } catch {\n    return dateString;\n  }\n};\n"],"names":["Header","pathname","useLocation","React","className","Link","to","startsWith","PageLayout","_ref","children","sanitizeSchema","defaultSchema","tagNames","attributes","span","markdownComponents","ul","props","style","listStyle","ol","listStyleType","paddingLeft","li","marginBottom","LogCard","title","body","date","tags","isExpanded","setIsExpanded","useState","formattedDate","formatDateToKorean","shouldShowToggle","split","filter","line","trim","length","Markdown","rehypePlugins","rehypeRaw","rehypeSanitize","components","onClick","data","allLogs","allMdx","nodes","node","frontmatter","type","map","log","key","id","thumbnail","Head","dateString","parts","year","parseInt","month","day","isNaN","Date","getFullYear","getTime","getMonth","getDate"],"sourceRoot":""}