{"version":3,"file":"component---src-pages-index-tsx-41fcfed1e5ada1d12e35.js","mappings":"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","sources":["webpack://blog/./src/components/Card.tsx","webpack://blog/./src/utils/extractTextFromMDX.ts","webpack://blog/./src/pages/index.tsx","webpack://blog/./src/utils/formatDate.ts"],"sourcesContent":["import { GatsbyImage, getImage } from 'gatsby-plugin-image';\nimport React from 'react';\nimport { CardProps } from 'types/post';\nimport { extractTextFromMDX, formatDateToKorean } from '../utils';\n\nexport const Card = ({ title, body, thumbnail, date, tags }: CardProps) => {\n  const src = thumbnail ? getImage(thumbnail) : '';\n  const cleanBody = extractTextFromMDX(body);\n  const formattedDate = formatDateToKorean(date);\n  const tagsString =\n    Array.isArray(tags) && tags.length > 0\n      ? tags\n          .map((tag) => tag?.trim())\n          .filter(Boolean)\n          .sort()\n          .map((tag) => `#${tag}`)\n          .join(', ')\n      : '';\n\n  return (\n    <div className=\"bg-white border-b border-[#F2F2F2] border-l-0 border-r-0 border-t-0 border-solid h-[219px] overflow-hidden flex flex-col py-[33px]\">\n      {/* Tags */}\n      {tagsString && (\n        <p className=\"text-[13px] text-[#222] font-ubuntu font-normal leading-normal w-[293px] whitespace-pre-wrap \">\n          {tagsString}\n        </p>\n      )}\n\n      {/* Title and Thumbnail */}\n      <div\n        className={`flex justify-between items-start gap-4 ${tagsString ? 'mt-[8px]' : ''}`}\n      >\n        <p className=\"text-[20px] text-black font-ubuntu font-bold leading-normal flex-1 min-w-0 whitespace-pre-wrap line-clamp-2\">\n          {title}\n        </p>\n\n        {/* Thumbnail */}\n        {src && (\n          <div className=\"w-[85px] min-w-[85px] h-[63px] flex-shrink-0\">\n            <GatsbyImage\n              className=\"w-full h-full object-cover\"\n              image={src}\n              alt={title}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Description */}\n      <p className=\"text-[16px] text-[#222] font-ubuntu font-normal leading-normal w-[293px] whitespace-pre-wrap line-clamp-2 mt-[23px]\">\n        {cleanBody}\n      </p>\n\n      {/* Date */}\n      {formattedDate && (\n        <p className=\"text-[13px] text-[#222] font-ubuntu font-normal leading-normal whitespace-pre-wrap mt-[20px]\">\n          {formattedDate}\n        </p>\n      )}\n    </div>\n  );\n};\n","/**\n * MDX 본문에서 순수 텍스트만 추출\n * JSX 코드, import 문, HTML 태그 등을 제거하고 읽을 수 있는 텍스트만 반환\n */\nexport const extractTextFromMDX = (mdxBody: string): string => {\n  if (!mdxBody) return '';\n\n  let text = mdxBody;\n\n  // 1. import 문 제거\n  text = text.replace(/^import[\\s\\S]*?from\\s+['\"][^'\"]+['\"];?\\s*$/gm, '');\n\n  // 2. JSX 태그 제거 (Thread, ThreadItem 등)\n  text = text.replace(/<\\/?[\\w:]+[^>]*>/g, '');\n\n  // 3. md 파일 프론트매터 제거\n  text = text.replace(/^---[\\s\\S]*?---/, '');\n\n  // 4. HTML 주석 제거\n  text = text.replace(/<!--[\\s\\S]*?-->/g, '');\n\n  // 5. 여러 공백을 하나로\n  text = text.replace(/\\s+/g, ' ');\n\n  // 6. 앞뒤 공백 제거\n  text = text.trim();\n\n  // 7. 첫 3줄 정도만 추출\n  const sentences = text.split(/[.!?]\\s+/);\n  const preview = sentences.slice(0, 2).join('. ');\n\n  return preview || text.substring(0, 100);\n};\n","import { graphql, Link, type HeadFC } from 'gatsby';\nimport * as React from 'react';\n\nimport { Card } from 'components/Card';\nimport { MdxNode } from 'types/post';\nimport { PageLayout } from 'components/Layout';\n\ntype IndexPageProps = {\n  data: {\n    allMdx: {\n      nodes: MdxNode[];\n    };\n  };\n};\n\nconst IndexPage = ({ data }: IndexPageProps) => {\n  // TODO: 성능 최적화 - GraphQL 쿼리 레벨에서 필터링하도록 변경\n  // 현재는 모든 MDX 노드를 가져온 후 JavaScript에서 필터링하므로,\n  // MDX 파일이 많아질수록 불필요한 데이터를 전송하게 됨.\n  // GraphQL 스키마에 type 필드를 명시적으로 정의한 후 filter를 사용하면 더 효율적임.\n  const posts = data.allMdx.nodes.filter(\n    (node) => !node.frontmatter.type || node.frontmatter.type !== 'log'\n  );\n\n  return (\n    <PageLayout>\n      <div className=\"pb-4\">\n        {posts.map((post, index) => (\n          <Link\n            key={post.id}\n            to={post.frontmatter.slug}\n            className=\"block\"\n            style={{\n              textDecoration: 'none',\n            }}\n          >\n            <Card\n              thumbnail={post.frontmatter.thumbnail}\n              title={post.frontmatter.title}\n              date={post.frontmatter.date}\n              tags={post.frontmatter.tags}\n              body={post.body}\n            />\n          </Link>\n        ))}\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default IndexPage;\n\nexport const Head: HeadFC = () => <title>dev-hamster</title>;\n\nexport const query = graphql`\n  query {\n    allMdx(sort: { frontmatter: { date: DESC } }) {\n      nodes {\n        id\n        frontmatter {\n          title\n          slug\n          date(formatString: \"YYYY-MM-DD\")\n          tags\n          thumbnail {\n            childImageSharp {\n              gatsbyImageData(placeholder: BLURRED, layout: FULL_WIDTH)\n            }\n          }\n        }\n        body\n      }\n    }\n  }\n`;\n","/**\n * 날짜를 한국어 형식으로 포맷팅\n * 예: \"2025-01-16\" -> \"1월 16일\"\n */\nexport const formatDateToKorean = (dateString?: string | null): string => {\n  if (!dateString) return '';\n\n  try {\n    // \"2025-01-16\" 형식의 문자열을 파싱\n    // Date 생성자는 시간대 문제가 있을 수 있으므로 직접 파싱\n    const parts = dateString.split('-');\n    if (parts.length === 3) {\n      const year = parseInt(parts[0], 10);\n      const month = parseInt(parts[1], 10);\n      const day = parseInt(parts[2], 10);\n\n      if (!isNaN(year) && !isNaN(month) && !isNaN(day)) {\n        if (year === new Date().getFullYear()) {\n          return `${month}월 ${day}일`;\n        } else {\n          return `${year}년 ${month}월 ${day}일`;\n        }\n      }\n    }\n\n    // 파싱 실패 시 Date 객체 사용\n    const date = new Date(dateString);\n    if (!isNaN(date.getTime())) {\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      return `${month}월 ${day}일`;\n    }\n\n    return dateString;\n  } catch {\n    return dateString;\n  }\n};\n"],"names":["Card","_ref","title","body","thumbnail","date","tags","src","getImage","cleanBody","mdxBody","text","replace","trim","split","slice","join","substring","extractTextFromMDX","formattedDate","formatDateToKorean","tagsString","Array","isArray","length","map","tag","filter","Boolean","sort","React","className","GatsbyImage","image","alt","data","posts","allMdx","nodes","node","frontmatter","type","PageLayout","post","index","Link","key","id","to","slug","style","textDecoration","Head","dateString","parts","year","parseInt","month","day","isNaN","Date","getFullYear","getTime","getMonth","getDate"],"sourceRoot":""}