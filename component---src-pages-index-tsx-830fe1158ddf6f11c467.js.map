{"version":3,"file":"component---src-pages-index-tsx-830fe1158ddf6f11c467.js","mappings":"gOAKO,MAAMA,EAAOC,IAAwD,IAAvD,MAAEC,EAAK,KAAEC,EAAI,UAAEC,EAAS,KAAEC,EAAI,KAAEC,GAAiB,EACpE,MAAMC,EAAMH,GAAYI,EAAAA,EAAAA,GAASJ,GAAa,GACxCK,ECH2BC,KACjC,IAAKA,EAAS,MAAO,GAErB,IAAIC,EAAOD,EAwBX,OArBAC,EAAOA,EAAKC,QAAQ,+CAAgD,IAGpED,EAAOA,EAAKC,QAAQ,oBAAqB,IAGzCD,EAAOA,EAAKC,QAAQ,kBAAmB,IAGvCD,EAAOA,EAAKC,QAAQ,mBAAoB,IAGxCD,EAAOA,EAAKC,QAAQ,OAAQ,KAG5BD,EAAOA,EAAKE,OAGMF,EAAKG,MAAM,YACHC,MAAM,EAAG,GAAGC,KAAK,OAEzBL,EAAKM,UAAU,EAAG,IAAI,EDxBtBC,CAAmBf,GAC/BgB,GAAgBC,EAAAA,EAAAA,GAAmBf,GACnCgB,EACJC,MAAMC,QAAQjB,IAASA,EAAKkB,OAAS,EACjClB,EACGmB,KAAKC,GAAQA,aAAG,EAAHA,EAAKb,SAClBc,OAAOC,SACPC,OACAJ,KAAKC,GAAG,IAASA,IACjBV,KAAK,MACR,GAEN,OACEc,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,sIAEZV,GACCS,EAAAA,cAAAA,IAAAA,CAAGC,UAAU,iGACVV,GAKLS,EAAAA,cAAAA,MAAAA,CACEC,UAAS,2CAA4CV,EAAa,WAAa,KAE/ES,EAAAA,cAAAA,IAAAA,CAAGC,UAAU,+GACV7B,GAIFK,GACCuB,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,gDACbD,EAAAA,cAACE,EAAAA,EAAW,CACVD,UAAU,6BACVE,MAAO1B,EACP2B,IAAKhC,MAOb4B,EAAAA,cAAAA,IAAAA,CAAGC,UAAU,uHACVtB,GAIFU,GACCW,EAAAA,cAAAA,IAAAA,CAAGC,UAAU,gGACVZ,GAGD,E,cEmFV,MA/HkBlB,IAA8B,IAA7B,KAAEkC,GAAsB,EACzC,MAAMC,EAAQD,EAAKE,OAAOC,OACnBC,EAAcC,GAAmBV,EAAAA,SACtC,IAAIW,KAIAC,EAAUZ,EAAAA,SAAc,KAC5B,MAAMa,EAAS,IAAIF,IAUnB,OATAL,EAAMQ,SAASC,IACTA,EAAKC,YAAYxC,MAAQgB,MAAMC,QAAQsB,EAAKC,YAAYxC,OAC1DuC,EAAKC,YAAYxC,KAAKsC,SAASlB,IACzBA,SAAAA,EAAKb,QACP8B,EAAOI,IAAIrB,EAAIb,OACjB,GAEJ,IAEKS,MAAM0B,KAAKL,GAAQd,MAAM,GAC/B,CAACO,IAGEa,EAAgBnB,EAAAA,SAAc,IACR,IAAtBS,EAAaW,KACRd,EAEFA,EAAMT,QAAQkB,IACnB,IAAKA,EAAKC,YAAYxC,OAASgB,MAAMC,QAAQsB,EAAKC,YAAYxC,MAC5D,OAAO,EAKT,OAHiBuC,EAAKC,YAAYxC,KAC/BmB,KAAKC,GAAQA,aAAG,EAAHA,EAAKb,SAClBc,OAAOC,SACMuB,MAAMzB,GAAQa,EAAaa,IAAI1B,IAAK,KAErD,CAACU,EAAOG,IAoBX,OACET,EAAAA,cAACuB,EAAAA,EAAU,KAERX,EAAQlB,OAAS,GAChBM,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,uCACbD,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,qCACZW,EAAQjB,KAAKC,IACZ,MAAM4B,EAAaf,EAAaa,IAAI1B,GACpC,OACEI,EAAAA,cAAAA,SAAAA,CACEyB,IAAK7B,EACL8B,QAAS,IA5BD9B,KACtBc,GAAiBiB,IACf,MAAMC,EAAS,IAAIjB,IAAIgB,GAMvB,OALIC,EAAON,IAAI1B,GACbgC,EAAOC,OAAOjC,GAEdgC,EAAOX,IAAIrB,GAENgC,CAAM,GACb,EAmB2BE,CAAelC,GAC9BK,UAAS,mFACPuB,EACI,uBACA,gDAEP,IACG5B,EACK,IAGZa,EAAaW,KAAO,GACnBpB,EAAAA,cAAAA,SAAAA,CACE0B,QA5Ba,KACzBhB,EAAgB,IAAIC,IAAM,EA4BdV,UAAU,oHACX,WAKJQ,EAAaW,KAAO,GACnBpB,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,+CACZkB,EAAczB,OAAO,kBAO9BM,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,QACZkB,EAAczB,OAAS,EACtByB,EAAcxB,KAAI,CAACoB,EAAMgB,IACvB/B,EAAAA,cAACgC,EAAAA,GAAI,CACHP,IAAKV,EAAKkB,GACVC,GAAInB,EAAKC,YAAYmB,KACrBlC,UAAU,QACVmC,MAAO,CACLC,eAAgB,SAGlBrC,EAAAA,cAAC9B,EAAI,CACHI,UAAWyC,EAAKC,YAAY1C,UAC5BF,MAAO2C,EAAKC,YAAY5C,MACxBG,KAAMwC,EAAKC,YAAYzC,KACvBC,KAAMuC,EAAKC,YAAYxC,KACvBH,KAAM0C,EAAK1C,UAKjB2B,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,qBACbD,EAAAA,cAAAA,IAAAA,CAAGC,UAAU,0CAAyC,6BAMjD,EAMV,MAAMqC,EAAe,IAAMtC,EAAAA,cAAAA,QAAAA,KAAO,c,uDC5IlC,MAAMV,EAAsBiD,IACjC,IAAKA,EAAY,MAAO,GAExB,IAGE,MAAMC,EAAQD,EAAWvD,MAAM,KAC/B,GAAqB,IAAjBwD,EAAM9C,OAAc,CACtB,MAAM+C,EAAOC,SAASF,EAAM,GAAI,IAC1BG,EAAQD,SAASF,EAAM,GAAI,IAC3BI,EAAMF,SAASF,EAAM,GAAI,IAE/B,IAAKK,MAAMJ,KAAUI,MAAMF,KAAWE,MAAMD,GAC1C,OAAIH,KAAS,IAAIK,MAAOC,cACZJ,EAAK,KAAKC,EAAG,IAEbH,EAAI,KAAKE,EAAK,KAAKC,EAAG,GAGtC,CAGA,MAAMrE,EAAO,IAAIuE,KAAKP,GACtB,IAAKM,MAAMtE,EAAKyE,WAAY,CAC1B,MAAML,EAAQpE,EAAK0E,WAAa,EAEhC,OAAUN,EAAK,KADHpE,EAAK2E,UACM,GACzB,CAEA,OAAOX,CACT,CAAE,SACA,OAAOA,CACT,E","sources":["webpack://blog/./src/components/Card.tsx","webpack://blog/./src/utils/extractTextFromMDX.ts","webpack://blog/./src/pages/index.tsx","webpack://blog/./src/utils/formatDate.ts"],"sourcesContent":["import { GatsbyImage, getImage } from 'gatsby-plugin-image';\nimport React from 'react';\nimport { CardProps } from 'types/post';\nimport { extractTextFromMDX, formatDateToKorean } from '../utils';\n\nexport const Card = ({ title, body, thumbnail, date, tags }: CardProps) => {\n  const src = thumbnail ? getImage(thumbnail) : '';\n  const cleanBody = extractTextFromMDX(body);\n  const formattedDate = formatDateToKorean(date);\n  const tagsString =\n    Array.isArray(tags) && tags.length > 0\n      ? tags\n          .map((tag) => tag?.trim())\n          .filter(Boolean)\n          .sort()\n          .map((tag) => `#${tag}`)\n          .join(', ')\n      : '';\n\n  return (\n    <div className=\"bg-white border-b border-[#F2F2F2] border-l-0 border-r-0 border-t-0 border-solid h-[219px] overflow-hidden flex flex-col py-[33px]\">\n      {/* Tags */}\n      {tagsString && (\n        <p className=\"text-[13px] text-[#222] font-ubuntu font-normal leading-normal w-[293px] whitespace-pre-wrap \">\n          {tagsString}\n        </p>\n      )}\n\n      {/* Title and Thumbnail */}\n      <div\n        className={`flex justify-between items-start gap-4 ${tagsString ? 'mt-[8px]' : ''}`}\n      >\n        <p className=\"text-[20px] text-black font-ubuntu font-bold leading-normal flex-1 min-w-0 whitespace-pre-wrap line-clamp-2\">\n          {title}\n        </p>\n\n        {/* Thumbnail */}\n        {src && (\n          <div className=\"w-[85px] min-w-[85px] h-[63px] flex-shrink-0\">\n            <GatsbyImage\n              className=\"w-full h-full object-cover\"\n              image={src}\n              alt={title}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Description */}\n      <p className=\"text-[16px] text-[#222] font-ubuntu font-normal leading-normal w-[293px] whitespace-pre-wrap line-clamp-2 mt-[23px]\">\n        {cleanBody}\n      </p>\n\n      {/* Date */}\n      {formattedDate && (\n        <p className=\"text-[13px] text-[#222] font-ubuntu font-normal leading-normal whitespace-pre-wrap mt-[20px]\">\n          {formattedDate}\n        </p>\n      )}\n    </div>\n  );\n};\n","/**\n * MDX 본문에서 순수 텍스트만 추출\n * JSX 코드, import 문, HTML 태그 등을 제거하고 읽을 수 있는 텍스트만 반환\n */\nexport const extractTextFromMDX = (mdxBody: string): string => {\n  if (!mdxBody) return '';\n\n  let text = mdxBody;\n\n  // 1. import 문 제거\n  text = text.replace(/^import[\\s\\S]*?from\\s+['\"][^'\"]+['\"];?\\s*$/gm, '');\n\n  // 2. JSX 태그 제거 (Thread, ThreadItem 등)\n  text = text.replace(/<\\/?[\\w:]+[^>]*>/g, '');\n\n  // 3. md 파일 프론트매터 제거\n  text = text.replace(/^---[\\s\\S]*?---/, '');\n\n  // 4. HTML 주석 제거\n  text = text.replace(/<!--[\\s\\S]*?-->/g, '');\n\n  // 5. 여러 공백을 하나로\n  text = text.replace(/\\s+/g, ' ');\n\n  // 6. 앞뒤 공백 제거\n  text = text.trim();\n\n  // 7. 첫 3줄 정도만 추출\n  const sentences = text.split(/[.!?]\\s+/);\n  const preview = sentences.slice(0, 2).join('. ');\n\n  return preview || text.substring(0, 100);\n};\n","import { graphql, Link, type HeadFC } from 'gatsby';\nimport * as React from 'react';\n\nimport { Card } from 'components/Card';\nimport { MdxNode } from 'types/post';\nimport { PageLayout } from 'components/Layout';\n\ntype IndexPageProps = {\n  data: {\n    allMdx: {\n      nodes: MdxNode[];\n    };\n  };\n};\n\nconst IndexPage = ({ data }: IndexPageProps) => {\n  const posts = data.allMdx.nodes;\n  const [selectedTags, setSelectedTags] = React.useState<Set<string>>(\n    new Set()\n  );\n\n  // 모든 고유 태그 추출\n  const allTags = React.useMemo(() => {\n    const tagSet = new Set<string>();\n    posts.forEach((post) => {\n      if (post.frontmatter.tags && Array.isArray(post.frontmatter.tags)) {\n        post.frontmatter.tags.forEach((tag) => {\n          if (tag?.trim()) {\n            tagSet.add(tag.trim());\n          }\n        });\n      }\n    });\n    return Array.from(tagSet).sort();\n  }, [posts]);\n\n  // 선택된 태그에 따라 포스트 필터링\n  const filteredPosts = React.useMemo(() => {\n    if (selectedTags.size === 0) {\n      return posts;\n    }\n    return posts.filter((post) => {\n      if (!post.frontmatter.tags || !Array.isArray(post.frontmatter.tags)) {\n        return false;\n      }\n      const postTags = post.frontmatter.tags\n        .map((tag) => tag?.trim())\n        .filter(Boolean);\n      return postTags.some((tag) => selectedTags.has(tag));\n    });\n  }, [posts, selectedTags]);\n\n  // 태그 클릭 핸들러\n  const handleTagClick = (tag: string) => {\n    setSelectedTags((prev) => {\n      const newSet = new Set(prev);\n      if (newSet.has(tag)) {\n        newSet.delete(tag);\n      } else {\n        newSet.add(tag);\n      }\n      return newSet;\n    });\n  };\n\n  // 모든 태그 선택 해제\n  const handleClearFilters = () => {\n    setSelectedTags(new Set());\n  };\n\n  return (\n    <PageLayout>\n      {/* 태그 필터 UI */}\n      {allTags.length > 0 && (\n        <div className=\"mb-6 pb-4 border-b border-[#F2F2F2]\">\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            {allTags.map((tag) => {\n              const isSelected = selectedTags.has(tag);\n              return (\n                <button\n                  key={tag}\n                  onClick={() => handleTagClick(tag)}\n                  className={`px-3 py-1.5 rounded-full text-[13px] font-ubuntu font-normal transition-colors ${\n                    isSelected\n                      ? 'bg-[#222] text-white'\n                      : 'bg-[#F2F2F2] text-[#222] hover:bg-[#E0E0E0]'\n                  }`}\n                >\n                  #{tag}\n                </button>\n              );\n            })}\n            {selectedTags.size > 0 && (\n              <button\n                onClick={handleClearFilters}\n                className=\"px-3 py-1.5 rounded-full text-[13px] font-ubuntu font-normal bg-[#F2F2F2] text-[#838383] hover:bg-[#E0E0E0] ml-2\"\n              >\n                필터 초기화\n              </button>\n            )}\n          </div>\n          {selectedTags.size > 0 && (\n            <div className=\"mt-3 text-[13px] text-[#838383] font-ubuntu\">\n              {filteredPosts.length}개의 포스트가 표시됩니다\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* 포스트 목록 */}\n      <div className=\"pb-4\">\n        {filteredPosts.length > 0 ? (\n          filteredPosts.map((post, index) => (\n            <Link\n              key={post.id}\n              to={post.frontmatter.slug}\n              className=\"block\"\n              style={{\n                textDecoration: 'none',\n              }}\n            >\n              <Card\n                thumbnail={post.frontmatter.thumbnail}\n                title={post.frontmatter.title}\n                date={post.frontmatter.date}\n                tags={post.frontmatter.tags}\n                body={post.body}\n              />\n            </Link>\n          ))\n        ) : (\n          <div className=\"text-center py-12\">\n            <p className=\"text-[16px] text-[#838383] font-ubuntu\">\n              선택한 태그에 해당하는 포스트가 없습니다.\n            </p>\n          </div>\n        )}\n      </div>\n    </PageLayout>\n  );\n};\n\nexport default IndexPage;\n\nexport const Head: HeadFC = () => <title>dev-hamster</title>;\n\nexport const query = graphql`\n  query {\n    allMdx(\n      sort: { frontmatter: { date: DESC } }\n      filter: { frontmatter: { type: { ne: \"log\" } } }\n    ) {\n      nodes {\n        id\n        frontmatter {\n          title\n          slug\n          date(formatString: \"YYYY-MM-DD\")\n          tags\n          thumbnail {\n            childImageSharp {\n              gatsbyImageData(placeholder: BLURRED, layout: FULL_WIDTH)\n            }\n          }\n        }\n        body\n      }\n    }\n  }\n`;\n","/**\n * 날짜를 한국어 형식으로 포맷팅\n * 예: \"2025-01-16\" -> \"1월 16일\"\n */\nexport const formatDateToKorean = (dateString?: string | null): string => {\n  if (!dateString) return '';\n\n  try {\n    // \"2025-01-16\" 형식의 문자열을 파싱\n    // Date 생성자는 시간대 문제가 있을 수 있으므로 직접 파싱\n    const parts = dateString.split('-');\n    if (parts.length === 3) {\n      const year = parseInt(parts[0], 10);\n      const month = parseInt(parts[1], 10);\n      const day = parseInt(parts[2], 10);\n\n      if (!isNaN(year) && !isNaN(month) && !isNaN(day)) {\n        if (year === new Date().getFullYear()) {\n          return `${month}월 ${day}일`;\n        } else {\n          return `${year}년 ${month}월 ${day}일`;\n        }\n      }\n    }\n\n    // 파싱 실패 시 Date 객체 사용\n    const date = new Date(dateString);\n    if (!isNaN(date.getTime())) {\n      const month = date.getMonth() + 1;\n      const day = date.getDate();\n      return `${month}월 ${day}일`;\n    }\n\n    return dateString;\n  } catch {\n    return dateString;\n  }\n};\n"],"names":["Card","_ref","title","body","thumbnail","date","tags","src","getImage","cleanBody","mdxBody","text","replace","trim","split","slice","join","substring","extractTextFromMDX","formattedDate","formatDateToKorean","tagsString","Array","isArray","length","map","tag","filter","Boolean","sort","React","className","GatsbyImage","image","alt","data","posts","allMdx","nodes","selectedTags","setSelectedTags","Set","allTags","tagSet","forEach","post","frontmatter","add","from","filteredPosts","size","some","has","PageLayout","isSelected","key","onClick","prev","newSet","delete","handleTagClick","index","Link","id","to","slug","style","textDecoration","Head","dateString","parts","year","parseInt","month","day","isNaN","Date","getFullYear","getTime","getMonth","getDate"],"sourceRoot":""}